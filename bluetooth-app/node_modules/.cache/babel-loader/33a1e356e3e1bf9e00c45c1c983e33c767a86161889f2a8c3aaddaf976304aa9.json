{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sandr\\\\OneDrive - KTH\\\\Documents\\\\Jobs and Interns\\\\MMS_2025_UI\\\\Testing_MMS\\\\bluetooth-app\\\\src\\\\BluetoothContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BluetoothContext = /*#__PURE__*/createContext(undefined);\n\n// Mock implementation: no backend, simulate IMU updates and algorithm behavior\nexport const BluetoothProvider = ({\n  children\n}) => {\n  _s();\n  const [isConnected, setIsConnected] = useState(false);\n  const [device, setDevice] = useState(null);\n  const imuRef = useRef({\n    imu1_changes: [],\n    imu2_changes: []\n  });\n  const imuIntervalRef = useRef(null);\n  const connect = async () => {\n    // simulate discovery / connect\n    await new Promise(r => setTimeout(r, 300));\n    setDevice({\n      id: 'mock-1',\n      name: 'Mock NMES Device'\n    });\n    setIsConnected(true);\n  };\n  const disconnect = () => {\n    stopIMU();\n    setIsConnected(false);\n    setDevice(null);\n  };\n  const startIMU = () => {\n    // simulate IMU generating random changes\n    if (imuIntervalRef.current) return;\n    imuIntervalRef.current = window.setInterval(() => {\n      const a = Math.random() * 3;\n      const b = Math.random() * 3;\n      imuRef.current.imu1_changes.push(a);\n      imuRef.current.imu2_changes.push(b);\n      // keep short history\n      if (imuRef.current.imu1_changes.length > 500) imuRef.current.imu1_changes.shift();\n      if (imuRef.current.imu2_changes.length > 500) imuRef.current.imu2_changes.shift();\n    }, 100);\n  };\n  const stopIMU = () => {\n    if (imuIntervalRef.current) {\n      clearInterval(imuIntervalRef.current);\n      imuIntervalRef.current = null;\n    }\n  };\n\n  // Optimization loop removed — this frontend demo no longer exposes algorithm control.\n\n  const initializeDevice = async () => {\n    // no-op for frontend-only demo\n    await new Promise(r => setTimeout(r, 200));\n    return;\n  };\n  return /*#__PURE__*/_jsxDEV(BluetoothContext.Provider, {\n    value: {\n      isConnected,\n      device,\n      connect,\n      disconnect,\n      startIMU: () => startIMU(),\n      stopIMU: () => stopIMU(),\n      imuData: imuRef.current,\n      initializeDevice\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(BluetoothProvider, \"TnHMhfv2UIl5Mll2mC5iKYH+5Gw=\");\n_c = BluetoothProvider;\nexport const useBluetooth = () => {\n  _s2();\n  const ctx = React.useContext(BluetoothContext);\n  if (!ctx) {\n    throw new Error('useBluetooth must be used inside BluetoothProvider');\n  }\n  return ctx;\n};\n_s2(useBluetooth, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nvar _c;\n$RefreshReg$(_c, \"BluetoothProvider\");","map":{"version":3,"names":["React","createContext","useState","useRef","jsxDEV","_jsxDEV","BluetoothContext","undefined","BluetoothProvider","children","_s","isConnected","setIsConnected","device","setDevice","imuRef","imu1_changes","imu2_changes","imuIntervalRef","connect","Promise","r","setTimeout","id","name","disconnect","stopIMU","startIMU","current","window","setInterval","a","Math","random","b","push","length","shift","clearInterval","initializeDevice","Provider","value","imuData","fileName","_jsxFileName","lineNumber","columnNumber","_c","useBluetooth","_s2","ctx","useContext","Error","$RefreshReg$"],"sources":["C:/Users/sandr/OneDrive - KTH/Documents/Jobs and Interns/MMS_2025_UI/Testing_MMS/bluetooth-app/src/BluetoothContext.tsx"],"sourcesContent":["import React, { createContext, useState, useRef } from 'react'\r\n\r\ntype DeviceInfo = { id: string; name: string }\r\n\r\ntype BluetoothContextType = {\r\n  isConnected: boolean\r\n  device?: DeviceInfo | null\r\n  connect: () => Promise<void>\r\n  disconnect: () => void\r\n  startIMU: () => void\r\n  stopIMU: () => void\r\n  imuData: { imu1_changes: number[]; imu2_changes: number[] }\r\n  // Optimization features removed for this build - previously exposed optimization control functions\r\n  initializeDevice: () => Promise<void>\r\n}\r\n\r\nexport const BluetoothContext = createContext<BluetoothContextType | undefined>(undefined)\r\n\r\n// Mock implementation: no backend, simulate IMU updates and algorithm behavior\r\nexport const BluetoothProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n  const [isConnected, setIsConnected] = useState(false)\r\n  const [device, setDevice] = useState<DeviceInfo | null>(null)\r\n\r\n  const imuRef = useRef({ imu1_changes: [] as number[], imu2_changes: [] as number[] })\r\n  const imuIntervalRef = useRef<number | null>(null)\r\n\r\n  const connect = async () => {\r\n    // simulate discovery / connect\r\n    await new Promise((r) => setTimeout(r, 300))\r\n    setDevice({ id: 'mock-1', name: 'Mock NMES Device' })\r\n    setIsConnected(true)\r\n  }\r\n\r\n  const disconnect = () => {\r\n    stopIMU()\r\n    setIsConnected(false)\r\n    setDevice(null)\r\n  }\r\n\r\n  const startIMU = () => {\r\n    // simulate IMU generating random changes\r\n    if (imuIntervalRef.current) return\r\n    imuIntervalRef.current = window.setInterval(() => {\r\n      const a = Math.random() * 3\r\n      const b = Math.random() * 3\r\n      imuRef.current.imu1_changes.push(a)\r\n      imuRef.current.imu2_changes.push(b)\r\n      // keep short history\r\n      if (imuRef.current.imu1_changes.length > 500) imuRef.current.imu1_changes.shift()\r\n      if (imuRef.current.imu2_changes.length > 500) imuRef.current.imu2_changes.shift()\r\n    }, 100)\r\n  }\r\n\r\n  const stopIMU = () => {\r\n    if (imuIntervalRef.current) {\r\n      clearInterval(imuIntervalRef.current)\r\n      imuIntervalRef.current = null\r\n    }\r\n  }\r\n\r\n\r\n  // Optimization loop removed — this frontend demo no longer exposes algorithm control.\r\n\r\n  const initializeDevice = async () => {\r\n    // no-op for frontend-only demo\r\n    await new Promise((r) => setTimeout(r, 200))\r\n    return\r\n  }\r\n\r\n  return (\r\n    <BluetoothContext.Provider value={{\r\n      isConnected,\r\n      device,\r\n      connect,\r\n      disconnect,\r\n      startIMU: () => startIMU(),\r\n      stopIMU: () => stopIMU(),\r\n      imuData: imuRef.current,\r\n      initializeDevice\r\n    }}>\r\n      {children}\r\n    </BluetoothContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useBluetooth = () => {\r\n  const ctx = React.useContext(BluetoothContext)\r\n  if (!ctx) {\r\n    throw new Error('useBluetooth must be used inside BluetoothProvider')\r\n  }\r\n  return ctx\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}